# ──────────────────────────────────────────────────────────────
# CodeForge AI — Backend Environment Variables
# ──────────────────────────────────────────────────────────────
# Copy this file to .env and fill in the values.
#   cp .env.example .env
#
# All variables are loaded by Pydantic Settings (app/core/config.py).
# In production, every key below is REQUIRED.
# In development, missing keys trigger warnings but don't block startup.
# ──────────────────────────────────────────────────────────────

# ── Environment ──────────────────────────────────────────────
ENVIRONMENT=development          # development | production | test
LOG_LEVEL=INFO                   # DEBUG | INFO | WARNING | ERROR

# ── Supabase (Required) ─────────────────────────────────────
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_KEY=eyJ...      # Service role key — never expose to client
SUPABASE_JWT_SECRET=your-jwt-secret

# ── LLM API Keys (Required) ─────────────────────────────────
# At least one is needed per agent type:
#   Research / QA / Wireframe → OpenAI (GPT-4o)
#   Code generation           → Google (Gemini 1.5 Pro)
#   Pedagogy / Roadmap        → Anthropic (Claude 3.5 Sonnet)
OPENAI_API_KEY=sk-...
GOOGLE_API_KEY=AIza...
ANTHROPIC_API_KEY=sk-ant-...

# ── Redis ────────────────────────────────────────────────────
# Used for job store and as Celery broker/backend.
# Set to empty string to disable Redis (falls back to in-memory job store).
REDIS_URL=redis://localhost:6379

# ── Celery (Optional) ───────────────────────────────────────
# If not set, defaults to REDIS_URL. Set only if you want a separate
# broker/backend for Celery (e.g., RabbitMQ broker + Redis backend).
# CELERY_BROKER_URL=redis://localhost:6379
# CELERY_RESULT_BACKEND=redis://localhost:6379

# ── CORS ─────────────────────────────────────────────────────
# Override defaults in .env with Python list syntax:
# ALLOWED_ORIGINS=["http://localhost:3000","https://codeforge.ai"]

# ── Rate Limiting ────────────────────────────────────────────
RATE_LIMIT_PER_MINUTE=60         # Requests per minute per user/IP

# ── Agent Configuration ──────────────────────────────────────
AGENT_TIMEOUT=300                # Max seconds per agent execution (default 5 min)
MAX_AGENT_ITERATIONS=5           # LangGraph recursion limit
